<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"/><meta name="theme-color" content="#222"/><meta http-equiv="X-UA-COMPATIBLE" content="IE=edge,chrome=1"/><meta name="renderer" content="webkit"/><link rel="icon" type="image/ico" sizes="32x32" href="/assets/favicon.ico"/><link rel="apple-touch-icon" sizes="180x180" href="/assets/apple-touch-icon.png"/><link rel="alternate" href="/rss.xml" title="rev@天枢" type="application/rss+xml"><link rel="alternate" href="/atom.xml" title="rev@天枢" type="application/atom+xml"><link rel="alternate" type="application/json" title="rev@天枢" href="https://demoyao100.github.io/feed.json"/><link rel="preconnect" href="https://lf9-cdn-tos.bytecdntp.com"/><link rel="preconnect" href="https://at.alicdn.com"/><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Mulish:400,400italic,700,700italic%7CFredericka%20the%20Great:400,400italic,700,700italic%7CNoto%20Serif%20JP:400,400italic,700,700italic%7CNoto%20Serif%20SC:400,400italic,700,700italic%7CInconsolata:400,400italic,700,700italic&display=swap&subset=latin,latin-ext" media="none" onload="this.media&#x3D;&#39;all&#39;"><link rel="stylesheet" href="/css/app.css?v=0.4.2"><link rel="modulepreload" href="/js/chunk-5CMVB7G5.js"></link><link rel="modulepreload" href="/js/chunk-KVDZLG2J.js"></link><link rel="modulepreload" href="/js/chunk-VGJAHE4J.js"></link><link rel="modulepreload" href="/js/post-GIK63J7G.js"></link><link rel="modulepreload" href="/js/quicklink-XB2LBMLB.js"></link><link rel="modulepreload" href="/js/search-O5IBAWWA.js"></link><link rel="modulepreload" href="/js/siteInit.js"></link><link rel="preload" href="https://tva2.sinaimg.cn/large/6833939bly1gicit4jrvuj20zk0m8785.jpg" as="image" fetchpriority="high"><link rel="preload" href="https://tva2.sinaimg.cn/large/6833939bly1giciszlczyj20zk0m816d.jpg" as="image" fetchpriority="high"><link rel="preload" href="https://tva2.sinaimg.cn/large/6833939bly1gicit31ffoj20zk0m8naf.jpg" as="image" fetchpriority="high"><link rel="preload" href="https://tva2.sinaimg.cn/large/6833939bly1giciryrr3rj20zk0m8nhk.jpg" as="image" fetchpriority="high"><link rel="preload" href="https://tva2.sinaimg.cn/large/6833939bly1gicis3attqj20zk0m8k7l.jpg" as="image" fetchpriority="high"><link rel="preload" href="https://tva2.sinaimg.cn/large/6833939bly1gicis081o9j20zk0m8dmr.jpg" as="image" fetchpriority="high"><meta name="description" content="&lt;h6 id=&quot;preface&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#preface&quot;&gt;#&lt;/a&gt; PREFACE：&lt;/h6&gt;"/><link rel="canonical" href="https://demoyao100.github.io/2024/04/14/web%E5%85%A5%E9%97%A8%E6%93%8D%E4%BD%9C/"><title>web入门操作</title><meta name="generator" content="Hexo 7.0.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">web入门操作</h1><div class="meta"><span class="item" title="Created: 2024-04-14 19:09:40"><span class="icon"><i class="ic i-calendar"></i></span><span class="text">Posted on</span><time itemprop="dateCreated datePublished" datetime="2024-04-14T19:09:40+08:00">2024-04-14</time></span><span class="item" title="Symbols count in article"><span class="icon"><i class="ic i-pen"></i></span><span class="text">Symbols count in article</span><span>21k</span><span class="text">words</span></span><span class="item" title="Reading time"><span class="icon"><i class="ic i-clock"></i></span><span class="text">Reading time</span><span>19 mins.</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="Toggle navigation bar"><span class="line"></span><span class="line"></span><span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">Moyao の小屋</a></li></ul><ul class="right" id="rightNav"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div class="pjax" id="imgs"><ul><li class="item" style="background-image: url(&quot;https://tva2.sinaimg.cn/large/6833939bly1gicit4jrvuj20zk0m8785.jpg&quot;);"></li><li class="item" style="background-image: url(&quot;https://tva2.sinaimg.cn/large/6833939bly1giciszlczyj20zk0m816d.jpg&quot;);"></li><li class="item" style="background-image: url(&quot;https://tva2.sinaimg.cn/large/6833939bly1gicit31ffoj20zk0m8naf.jpg&quot;);"></li><li class="item" style="background-image: url(&quot;https://tva2.sinaimg.cn/large/6833939bly1giciryrr3rj20zk0m8nhk.jpg&quot;);"></li><li class="item" style="background-image: url(&quot;https://tva2.sinaimg.cn/large/6833939bly1gicis3attqj20zk0m8k7l.jpg&quot;);"></li><li class="item" style="background-image: url(&quot;https://tva2.sinaimg.cn/large/6833939bly1gicis081o9j20zk0m8dmr.jpg&quot;);"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"></path></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"></use><use xlink:href="#gentle-wave" x="48" y="3"></use><use xlink:href="#gentle-wave" x="48" y="5"></use><use xlink:href="#gentle-wave" x="48" y="7"></use></g></svg></div><main><div class="inner"><div class="pjax" id="main"><div class="article wrap"><div class="breadcrumb" itemListElement itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i><span><a href="/">Home</a></span></div><article class="post block" itemscope="itemscope" itemtype="http://schema.org/Article" lang="en"><link itemprop="mainEntityOfPage" href="https://demoyao100.github.io/2024/04/14/web%E5%85%A5%E9%97%A8%E6%93%8D%E4%BD%9C/"/><span hidden="hidden" itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="image" content="/assets/avatar.jpg"/><meta itemprop="name" content="Moyao"/><meta itemprop="description" content="Hi,I'm Moyaoxue, Write down something interesting I met&lt;br /&gt;
Feel free to mail me if you have something wanted to talk about, plz
mail: &amp;lt;moyaoxue@outlook.com&amp;gt;
"/></span><span hidden="hidden" itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="rev@天枢"/></span><div class="body md" itemprop="articleBody"><h6 id="preface"><a class="markdownIt-Anchor" href="#preface">#</a> PREFACE：</h6>
<span id="more"></span>
<h3 id="curl"><a class="markdownIt-Anchor" href="#curl">#</a> curl</h3>
<ul>
<li>curl 发送 get 指令</li>
</ul>
<blockquote>
<p>curl 127.0.0.1 -p 80</p>
</blockquote>
<p>注意 url 编码</p>
<p>添加 header</p>
<blockquote>
<p>curl 127.0.0.1 -p 80 --header “Host:40bb89ca76728698378750073647169d”</p>
</blockquote>
<p>注意转义</p>
<blockquote>
<p>curl 127.0.0.1?a=963fe9d3ff95f80bff64f57c210a739f<br>
\&amp;b=f8e12324%202bbd1304%2634341212%231eebbb9b</p>
</blockquote>
<p>POST data：</p>
<blockquote>
<p>curl 127.0.0.1 -d a=5129ddc180c847f3788d5493e2fdea93</p>
</blockquote>
<p>发送 json（json 内不需要转义）</p>
<blockquote>
<p>curl 127.0.0.1:80 -H “Content-Type:application/json” -d ‘{“a”:“17aa707fc88e62cab3cf40403d43e025”,“b”:{“c”:“6869f0a6”,“d”:[“193c021a”,“1de1e1a0 9384ce04&amp;8ae5cbbb#6<br>
eabcff1”]}}’</p>
</blockquote>
<p>重定向</p>
<blockquote>
<p>curl 127.0.0.1 --location-trusted</p>
</blockquote>
<p>获取 cookie</p>
<blockquote>
<p>curl -c - 127.0.0.1:80</p>
</blockquote>
<p>发送 cookie</p>
<blockquote>
<p>curl --cookie 71ed1a72ed58d7146e2798f2945a11dc 127.0.0.1</p>
</blockquote>
<h3 id="nc"><a class="markdownIt-Anchor" href="#nc">#</a> nc</h3>
<ul>
<li>nc 发送 get 指令</li>
</ul>
<blockquote>
<p>printf “GET /index.html HTTP/1.1\r\nUser-Agent: nc/0.0.1\r\nHost: 127.0.0.1\r\nAccept: <em>/</em>\r\n\r\n” | nc 127.0.0.1 80</p>
</blockquote>
<p>注意：更改为其他 input 方式，否则 url 编码会过不了</p>
<blockquote>
<p>hacker@talking-web~level14:/$ nc 127.0.0.1 80<br>
GET /index.html?a=a1834ce5ff3a8434e97e721b647e84a0 HTTP/1.1</p>
</blockquote>
<p>可以：nc 127.0.0.1 80 &lt; exp.txt</p>
<p>tips: 这里 nc 会自动把 \n 处理成 \r\n</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">POST / HTTP/1.1</span><br><span class="line">Host: 127.0.0.1:80</span><br><span class="line">Content-Type: application/x-www-form-urlencoded; charset=utf-8</span><br><span class="line">Content-Length: 34</span><br><span class="line"></span><br><span class="line">a=b7f875a1d22f3884e72c830ccd2dae79</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">POST / HTTP/1.1</span><br><span class="line">Host: 127.0.0.1:80</span><br><span class="line">Content-Type: application/json</span><br><span class="line">Content-Length: 40</span><br><span class="line"></span><br><span class="line">&#123;&quot;a&quot;:&quot;fb1fcbc678ea9ab1c60e7d89291a6ad0&quot;&#125;</span><br></pre></td></tr></table></figure>
<p>nc 信任重定向</p>
<p>cookie：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">POST /08ef55da8a1e676feea750320e3b0942 HTTP/1.1</span><br><span class="line">Host: 127.0.0.1</span><br><span class="line">Content-Type: application/json</span><br><span class="line">Content-Length: 116</span><br><span class="line">Cookie: cookie=c106c3a4d0d7620eee3b2cd121ff77ec</span><br><span class="line">Referer: 127.0.0.1</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="python"><a class="markdownIt-Anchor" href="#python">#</a> python</h3>
<ul>
<li>python 发送 get（不需要 url 编码）</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">&#x27;Host&#x27;</span>:<span class="string">&quot;71da60ef1b789332773275354004e689&quot;</span>,</span><br><span class="line">&#125;</span><br><span class="line">response = requests.post(<span class="string">&quot;http://127.0.0.1:80&quot;</span>,params=&#123;<span class="string">&quot;a&quot;</span>:<span class="string">&quot;62e9fb4ed3b5fafd87b163b3a20fef5b&quot;</span>,<span class="string">&quot;b&quot;</span>:<span class="string">&quot;93db500a 663544b4&amp;c0fa24b2#5b3824c1&quot;</span>&#125;,headers=headers)</span><br><span class="line"><span class="built_in">print</span>(response.text)</span><br></pre></td></tr></table></figure>
<ul>
<li>post</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line">data = &#123;<span class="string">&quot;a&quot;</span>:<span class="string">&quot;fb7a58692e22a3fc71c5017aa0541b00&quot;</span>&#125;</span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">&#x27;Host&#x27;</span>:<span class="string">&quot;71da60ef1b789332773275354004e689&quot;</span>,</span><br><span class="line">    <span class="string">&quot;Content-Type&quot;</span>:<span class="string">&quot;application/x-www-form-urlencoded; charset=utf-8&quot;</span>,</span><br><span class="line">&#125;</span><br><span class="line">response = requests.post(<span class="string">&quot;http://127.0.0.1:80&quot;</span>,data=data,headers=headers)</span><br><span class="line"><span class="built_in">print</span>(response.text)</span><br></pre></td></tr></table></figure>
<p>json</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line">data = &#123;<span class="string">&quot;a&quot;</span>:<span class="string">&quot;cb449746a07887172af1ad3bc700d7cc&quot;</span>,<span class="string">&quot;b&quot;</span>:<span class="string">&quot;6b0e7b4b 208ac3c8&amp;2a6652a6#b948b54f&quot;</span>&#125;</span><br><span class="line">data = json.dumps(data)</span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">&#x27;Host&#x27;</span>:<span class="string">&quot;71da60ef1b789332773275354004e689&quot;</span>,</span><br><span class="line">    <span class="string">&quot;Content-Type&quot;</span>:<span class="string">&quot;application/json&quot;</span>,</span><br><span class="line">&#125;</span><br><span class="line">response = requests.post(<span class="string">&quot;http://127.0.0.1:80&quot;</span>,data=data,headers=headers)</span><br><span class="line"><span class="built_in">print</span>(response.text)</span><br></pre></td></tr></table></figure>
<p>Python 自动重定向</p>
<p>Python 不需要手动维护 cookie</p>
<h3 id="web-syscall"><a class="markdownIt-Anchor" href="#web-syscall">#</a> web syscall</h3>
<p>network system calls are mostly big endian</p>
<p>ip protocol socket:</p>
<blockquote>
<p>socket(AF_INET, SOCK_STREAM, IPPROTO_IP)</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mov rdi, 2</span><br><span class="line">mov rsi, 1</span><br><span class="line">mov rdx, 0</span><br><span class="line">mov rax, 41</span><br><span class="line">syscall</span><br></pre></td></tr></table></figure>
<p>bind:</p>
<blockquote>
<p>bind(3, {sa_family=AF_INET, sin_port=htons(80), sin_addr=inet_addr(“0.0.0.0”)}, 16)</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">sub rsp, 4</span><br><span class="line">mov word ptr [rsp], 2</span><br><span class="line">mov word ptr [rsp + 3], 80</span><br><span class="line">mov dword ptr [rsp + 4], 0x00000000</span><br><span class="line">push rsp</span><br><span class="line">pop rsi</span><br><span class="line">mov rdi, rax</span><br><span class="line">mov rdx, 16</span><br><span class="line">mov rax, 49</span><br><span class="line">syscall</span><br></pre></td></tr></table></figure>
<p>accept</p>
<blockquote>
<p>accept(3, NULL, NULL)</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mov rdi, 3</span><br><span class="line">xor rsi, rsi</span><br><span class="line">xor rdx, rdx</span><br><span class="line">mov rax, 43</span><br><span class="line">syscall</span><br></pre></td></tr></table></figure>
<p>进行接收 &amp; 回包</p>
<blockquote>
<p>[✓] execve(“/proc/self/fd/3”, [“/proc/self/fd/3”], 0x7f0eeb6ad980 /* 0 vars */) = 0<br>
[✓] socket(AF_INET, SOCK_STREAM, IPPROTO_IP) = 3<br>
[✓] bind(3, {sa_family=AF_INET, sin_port=htons(80), sin_addr=inet_addr(“0.0.0.0”)}, 16) = 0<br>
[✓] listen(3, 0)                            = 0<br>
[✓] accept(3, NULL, NULL)                   = 4<br>
[✓] read(4, “GET / HTTP/1.1\r\nHost: localhost\r\nUser-Agent: python-requests/2.31.0\r\nAccept-Encoding: gzip, deflate, zstd\r\nAccept: <em>/</em>\r\nConnection: keep-alive\r\n\r\n”, 10000) = 146<br>
[✓] write(4, “HTTP/1.0 200 OK\r\n\r\n”, 19) = 19<br>
[✓] close(4)                                = 0<br>
[✓] exit(0)                                 = ?</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">.intel_syntax noprefix</span><br><span class="line">.globl _start</span><br><span class="line">.section .text</span><br><span class="line">_start:</span><br><span class="line">    mov rdi, 2</span><br><span class="line">    mov rsi, 1</span><br><span class="line">    mov rdx, 0</span><br><span class="line">    mov rax, 41</span><br><span class="line">    syscall</span><br><span class="line">    sub rsp, 4</span><br><span class="line">    mov word ptr [rsp], 2</span><br><span class="line">    mov word ptr [rsp + 3], 80</span><br><span class="line">    mov dword ptr [rsp + 4], 0x00000000</span><br><span class="line">    push rsp</span><br><span class="line">    pop rsi</span><br><span class="line">    mov rdi, rax</span><br><span class="line">    mov rdx, 16</span><br><span class="line">    mov rax, 49</span><br><span class="line">    syscall</span><br><span class="line">    mov rdi, 3</span><br><span class="line">    mov rsi, 0</span><br><span class="line">    mov rax, 50</span><br><span class="line">    syscall</span><br><span class="line"></span><br><span class="line">    mov rdi, 3</span><br><span class="line">    xor rsi, rsi</span><br><span class="line">    xor rdx, rdx</span><br><span class="line">    mov rax, 43</span><br><span class="line">    syscall</span><br><span class="line">    mov rdi, 4</span><br><span class="line">    push rsp</span><br><span class="line">    pop rsi</span><br><span class="line">    mov rdx, 10000</span><br><span class="line">    xor rax, rax</span><br><span class="line">    syscall</span><br><span class="line">    sub rsp, 19</span><br><span class="line">    mov dword ptr [rsp], 0x50545448</span><br><span class="line">    mov dword ptr [rsp + 4], 0x302e312f</span><br><span class="line">    mov dword ptr [rsp + 8], 0x30303220</span><br><span class="line">    mov dword ptr [rsp + 12], 0x0d4b4f20</span><br><span class="line">    mov qword ptr [rsp + 16], 0xa0d0a</span><br><span class="line">    push rsp</span><br><span class="line">    pop rsi</span><br><span class="line">    mov rdx, 19</span><br><span class="line">    mov rax, 1</span><br><span class="line">    syscall</span><br><span class="line">    mov rdi, 4</span><br><span class="line">    mov rax, 3</span><br><span class="line">    syscall</span><br><span class="line">    mov rdi, 0</span><br><span class="line">    mov rax, 60</span><br><span class="line">    syscall</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>根据接包进行 get 请求：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br></pre></td><td class="code"><pre><span class="line">.intel_syntax noprefix</span><br><span class="line">.globl _start</span><br><span class="line">.section .text</span><br><span class="line">_start:</span><br><span class="line">    mov rdi, 3</span><br><span class="line">    mov rax, 3</span><br><span class="line">    syscall</span><br><span class="line"></span><br><span class="line">    mov rdi, 2</span><br><span class="line">    mov rsi, 1</span><br><span class="line">    mov rdx, 0</span><br><span class="line">    mov rax, 41</span><br><span class="line">    syscall</span><br><span class="line">    sub rsp, 4</span><br><span class="line">    mov word ptr [rsp], 2</span><br><span class="line">    mov word ptr [rsp + 3], 80</span><br><span class="line">    mov dword ptr [rsp + 4], 0x00000000</span><br><span class="line">    push rsp</span><br><span class="line">    pop rsi</span><br><span class="line">    mov rdi, rax</span><br><span class="line">    mov rdx, 16</span><br><span class="line">    mov rax, 49</span><br><span class="line">    syscall</span><br><span class="line">    mov rdi, 3</span><br><span class="line">    mov rsi, 0</span><br><span class="line">    mov rax, 50</span><br><span class="line">    syscall</span><br><span class="line"></span><br><span class="line">    mov rdi, 3</span><br><span class="line">    xor rsi, rsi</span><br><span class="line">    xor rdx, rdx</span><br><span class="line">    mov rax, 43</span><br><span class="line">    syscall</span><br><span class="line"></span><br><span class="line">    //fork</span><br><span class="line">    mov rax, 57</span><br><span class="line">    syscall</span><br><span class="line"></span><br><span class="line">    // read</span><br><span class="line">    mov rdi, 4</span><br><span class="line">    push rsp</span><br><span class="line">    pop rsi</span><br><span class="line">    mov rdx, 10000</span><br><span class="line">    xor rax, rax</span><br><span class="line">    syscall</span><br><span class="line">    mov rcx, rsp</span><br><span class="line">    add rcx, 4</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    // open</span><br><span class="line">    sub rsp, 9</span><br><span class="line">    mov byte ptr [rsp], 0x2e</span><br><span class="line">    mov byte ptr [rsp + 1], 0x2f</span><br><span class="line">    mov byte ptr [rsp + 2], 0x65</span><br><span class="line">    mov byte ptr [rsp + 3], 0x78</span><br><span class="line">    mov byte ptr [rsp + 4], 0x70</span><br><span class="line">    mov byte ptr [rsp + 5], 0x2e</span><br><span class="line">    mov byte ptr [rsp + 6], 0x74</span><br><span class="line">    mov byte ptr [rsp + 7], 0x78</span><br><span class="line">    mov byte ptr [rsp + 8], 0x74</span><br><span class="line">    mov byte ptr [rsp + 9], 0x00</span><br><span class="line">    push rcx</span><br><span class="line">    mov byte ptr [rcx + 16], 0x00</span><br><span class="line">    pop rdi</span><br><span class="line">    mov rsi, 0</span><br><span class="line">    mov rax, 2</span><br><span class="line">    syscall</span><br><span class="line"></span><br><span class="line">    // read</span><br><span class="line">    mov rdi, rax</span><br><span class="line">    mov rsi, rsp</span><br><span class="line">    mov rdx, 202</span><br><span class="line">    mov rax, 0</span><br><span class="line">    syscall</span><br><span class="line">    mov r8, rax</span><br><span class="line"></span><br><span class="line">    // close</span><br><span class="line">    mov rsi, 5</span><br><span class="line">    mov rax, 3</span><br><span class="line">    syscall</span><br><span class="line"></span><br><span class="line">    // write</span><br><span class="line">    mov rdi, 4</span><br><span class="line">    sub rsp, 24</span><br><span class="line">    mov dword ptr [rsp],     0x50545448</span><br><span class="line">    mov dword ptr [rsp + 4], 0x302e312f</span><br><span class="line">    mov dword ptr [rsp + 8], 0x30303220</span><br><span class="line">    mov dword ptr [rsp + 12], 0x0d4b4f20</span><br><span class="line">    mov qword ptr [rsp + 16], 0x000a0d0a</span><br><span class="line">    push rsp</span><br><span class="line">    pop rsi</span><br><span class="line">    mov rdx, 19</span><br><span class="line">    mov rax, 1</span><br><span class="line">    syscall</span><br><span class="line">    add rsp, 24</span><br><span class="line"></span><br><span class="line">    // write</span><br><span class="line">    mov rdi, 4</span><br><span class="line">    mov rsi, rsp</span><br><span class="line">    mov rdx, r8</span><br><span class="line">    mov rax, 1</span><br><span class="line">    syscall</span><br><span class="line"></span><br><span class="line">    // close</span><br><span class="line">    mov rdi, 4</span><br><span class="line">    mov rax, 3</span><br><span class="line">    syscall</span><br><span class="line">    // accept</span><br><span class="line">    mov rdi, 3</span><br><span class="line">    xor rsi, rsi</span><br><span class="line">    xor rdx, rdx</span><br><span class="line">    mov rax, 43</span><br><span class="line">    syscall</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">.intel_syntax noprefix</span><br><span class="line">.globl _start</span><br><span class="line">.section .text</span><br><span class="line">_start:</span><br><span class="line">    mov rdi, 2</span><br><span class="line">    mov rsi, 1</span><br><span class="line">    mov rdx, 0</span><br><span class="line">    mov rax, 41</span><br><span class="line">    syscall</span><br><span class="line">    sub rsp, 4</span><br><span class="line">    mov word ptr [rsp], 2</span><br><span class="line">    mov word ptr [rsp + 3], 80</span><br><span class="line">    mov dword ptr [rsp + 4], 0x00000000</span><br><span class="line">    push rsp</span><br><span class="line">    pop rsi</span><br><span class="line">    mov rdi, rax</span><br><span class="line">    mov rdx, 16</span><br><span class="line">    mov rax, 49</span><br><span class="line">    syscall</span><br><span class="line">    mov rdi, 3</span><br><span class="line">    mov rsi, 0</span><br><span class="line">    mov rax, 50</span><br><span class="line">    syscall</span><br><span class="line"></span><br><span class="line">    // accept</span><br><span class="line">    mov rdi, 3</span><br><span class="line">    xor rsi, rsi</span><br><span class="line">    xor rdx, rdx</span><br><span class="line">    mov rax, 43</span><br><span class="line">    syscall</span><br><span class="line">    mov r8, rax</span><br><span class="line"></span><br><span class="line">    //fork</span><br><span class="line">    mov rax, 57</span><br><span class="line">    syscall</span><br><span class="line"></span><br><span class="line">    // close</span><br><span class="line">    mov rdi, r8</span><br><span class="line">    mov rax, 3</span><br><span class="line">    syscall</span><br><span class="line"></span><br><span class="line">    // accept</span><br><span class="line">    mov rdi, 3</span><br><span class="line">    xor rsi, rsi</span><br><span class="line">    xor rdx, rdx</span><br><span class="line">    mov rax, 43</span><br><span class="line">    syscall</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>循环开线程接包发包 get</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">========= Parent Process ==========</span><br><span class="line">[ ] execve(&lt;execve_args&gt;) = 0</span><br><span class="line">[ ] socket(AF_INET, SOCK_STREAM, IPPROTO_IP) = 3</span><br><span class="line">[ ] bind(3, &#123;sa_family=AF_INET, sin_port=htons(&lt;bind_port&gt;), sin_addr=inet_addr(&quot;&lt;bind_address&gt;&quot;)&#125;, 16) = 0</span><br><span class="line">    - Bind to port 80</span><br><span class="line">    - Bind to address 0.0.0.0</span><br><span class="line">[ ] listen(3, 0) = 0</span><br><span class="line">[ ] accept(3, NULL, NULL) = 4</span><br><span class="line">[ ] fork() = &lt;fork_result&gt;</span><br><span class="line">[ ] close(4) = 0</span><br><span class="line">[ ] accept(3, NULL, NULL) = ?</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">========= Child Process ==========</span><br><span class="line">[ ] close(3) = 0</span><br><span class="line">[ ] read(4, &lt;read_request&gt;, &lt;read_request_count&gt;) = &lt;read_request_result&gt;</span><br><span class="line">[ ] open(&quot;&lt;open_path&gt;&quot;, O_RDONLY) = 3</span><br><span class="line">[ ] read(3, &lt;read_file&gt;, &lt;read_file_count&gt;) = &lt;read_file_result&gt;</span><br><span class="line">[ ] close(3) = 0</span><br><span class="line">[ ] write(4, &quot;HTTP/1.0 200 OK\r\n\r\n&quot;, 19) = 19</span><br><span class="line">[ ] write(4, &lt;write_file&gt;, &lt;write_file_count&gt;) = &lt;write_file_result&gt;</span><br><span class="line">[ ] exit(0) = ?</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br></pre></td><td class="code"><pre><span class="line">.intel_syntax noprefix</span><br><span class="line">.globl _start</span><br><span class="line">.section .text</span><br><span class="line">_start:</span><br><span class="line">parent:</span><br><span class="line">    // socket</span><br><span class="line">    mov rdi, 2</span><br><span class="line">    mov rsi, 1</span><br><span class="line">    mov rdx, 0</span><br><span class="line">    mov rax, 41</span><br><span class="line">    syscall</span><br><span class="line">    // bind</span><br><span class="line">    sub rsp, 4</span><br><span class="line">    mov word ptr [rsp], 2</span><br><span class="line">    mov word ptr [rsp + 3], 80</span><br><span class="line">    mov dword ptr [rsp + 4], 0x00000000</span><br><span class="line">    push rsp</span><br><span class="line">    pop rsi</span><br><span class="line">    mov rdi, rax</span><br><span class="line">    mov rdx, 16</span><br><span class="line">    mov rax, 49</span><br><span class="line">    syscall</span><br><span class="line">    // listen</span><br><span class="line">    mov rdi, 3</span><br><span class="line">    mov rsi, 0</span><br><span class="line">    mov rax, 50</span><br><span class="line">    syscall</span><br><span class="line"></span><br><span class="line">    // accept</span><br><span class="line">    mov rdi, 3</span><br><span class="line">    xor rsi, rsi</span><br><span class="line">    xor rdx, rdx</span><br><span class="line">    mov rax, 43</span><br><span class="line">    syscall</span><br><span class="line">    mov r8, rax</span><br><span class="line"></span><br><span class="line">    //fork</span><br><span class="line">    mov rax, 57</span><br><span class="line">    syscall</span><br><span class="line"></span><br><span class="line">    cmp rax, 0</span><br><span class="line">    jz child</span><br><span class="line"></span><br><span class="line">    // close</span><br><span class="line">    mov rdi, 4</span><br><span class="line">    mov rax, 3</span><br><span class="line">    syscall</span><br><span class="line">    jmp parent</span><br><span class="line"></span><br><span class="line">    // accept</span><br><span class="line">    mov rdi, 3</span><br><span class="line">    xor rsi, rsi</span><br><span class="line">    xor rdx, rdx</span><br><span class="line">    mov rax, 43</span><br><span class="line">    syscall</span><br><span class="line"></span><br><span class="line">child:</span><br><span class="line"></span><br><span class="line">    // close</span><br><span class="line">    mov rdi, 3</span><br><span class="line">    mov rax, 3</span><br><span class="line">    syscall</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    // read</span><br><span class="line">    mov rdi, 4</span><br><span class="line">    push rsp</span><br><span class="line">    pop rsi</span><br><span class="line">    mov rdx, 10000</span><br><span class="line">    xor rax, rax</span><br><span class="line">    syscall</span><br><span class="line">    mov rcx, rsp</span><br><span class="line">    add rcx, 4</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    // open</span><br><span class="line">    sub rsp, 9</span><br><span class="line">    mov byte ptr [rsp], 0x2e</span><br><span class="line">    mov byte ptr [rsp + 1], 0x2f</span><br><span class="line">    mov byte ptr [rsp + 2], 0x65</span><br><span class="line">    mov byte ptr [rsp + 3], 0x78</span><br><span class="line">    mov byte ptr [rsp + 4], 0x70</span><br><span class="line">    mov byte ptr [rsp + 5], 0x2e</span><br><span class="line">    mov byte ptr [rsp + 6], 0x74</span><br><span class="line">    mov byte ptr [rsp + 7], 0x78</span><br><span class="line">    mov byte ptr [rsp + 8], 0x74</span><br><span class="line">    mov byte ptr [rsp + 9], 0x00</span><br><span class="line">    push rcx</span><br><span class="line">    mov byte ptr [rcx + 16], 0x00</span><br><span class="line">    pop rdi</span><br><span class="line">    mov rsi, 0</span><br><span class="line">    mov rax, 2</span><br><span class="line">    syscall</span><br><span class="line"></span><br><span class="line">    // read</span><br><span class="line">    mov rdi, rax</span><br><span class="line">    mov rsi, rsp</span><br><span class="line">    mov rdx, 202</span><br><span class="line">    mov rax, 0</span><br><span class="line">    syscall</span><br><span class="line">    mov r8, rax</span><br><span class="line"></span><br><span class="line">    // close</span><br><span class="line">    mov rsi, 5</span><br><span class="line">    mov rax, 3</span><br><span class="line">    syscall</span><br><span class="line"></span><br><span class="line">    // write</span><br><span class="line">    mov rdi, 4</span><br><span class="line">    sub rsp, 24</span><br><span class="line">    mov dword ptr [rsp],     0x50545448</span><br><span class="line">    mov dword ptr [rsp + 4], 0x302e312f</span><br><span class="line">    mov dword ptr [rsp + 8], 0x30303220</span><br><span class="line">    mov dword ptr [rsp + 12], 0x0d4b4f20</span><br><span class="line">    mov qword ptr [rsp + 16], 0x000a0d0a</span><br><span class="line">    push rsp</span><br><span class="line">    pop rsi</span><br><span class="line">    mov rdx, 19</span><br><span class="line">    mov rax, 1</span><br><span class="line">    syscall</span><br><span class="line">    add rsp, 24</span><br><span class="line"></span><br><span class="line">    // write</span><br><span class="line">    mov rdi, 4</span><br><span class="line">    mov rsi, rsp</span><br><span class="line">    mov rdx, r8</span><br><span class="line">    mov rax, 1</span><br><span class="line">    syscall</span><br><span class="line"></span><br><span class="line">    // accept</span><br><span class="line">    mov rdi, 3</span><br><span class="line">    xor rsi, rsi</span><br><span class="line">    xor rdx, rdx</span><br><span class="line">    mov rax, 43</span><br><span class="line">    syscall</span><br><span class="line"></span><br><span class="line">    mov rdi, 0</span><br><span class="line">    mov rax, 60</span><br><span class="line">    syscall</span><br></pre></td></tr></table></figure>
<p>post 接收参数并写入文件</p>
<p><img loading="lazy" data-src="web%E5%85%A5%E9%97%A8%E6%93%8D%E4%BD%9C/image-20240415202715805.png" alt="image-20240415202715805"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br></pre></td><td class="code"><pre><span class="line">.intel_syntax noprefix</span><br><span class="line">.globl _start</span><br><span class="line">.section .text</span><br><span class="line">_start:</span><br><span class="line">parent:</span><br><span class="line">    // socket</span><br><span class="line">    mov rdi, 2</span><br><span class="line">    mov rsi, 1</span><br><span class="line">    mov rdx, 0</span><br><span class="line">    mov rax, 41</span><br><span class="line">    syscall</span><br><span class="line">    // bind</span><br><span class="line">    sub rsp, 4</span><br><span class="line">    mov word ptr [rsp], 2</span><br><span class="line">    mov word ptr [rsp + 3], 80</span><br><span class="line">    mov dword ptr [rsp + 4], 0x00000000</span><br><span class="line">    push rsp</span><br><span class="line">    pop rsi</span><br><span class="line">    mov rdi, rax</span><br><span class="line">    mov rdx, 16</span><br><span class="line">    mov rax, 49</span><br><span class="line">    syscall</span><br><span class="line">    // listen</span><br><span class="line">    mov rdi, 3</span><br><span class="line">    mov rsi, 0</span><br><span class="line">    mov rax, 50</span><br><span class="line">    syscall</span><br><span class="line"></span><br><span class="line">    // accept</span><br><span class="line">    mov rdi, 3</span><br><span class="line">    xor rsi, rsi</span><br><span class="line">    xor rdx, rdx</span><br><span class="line">    mov rax, 43</span><br><span class="line">    syscall</span><br><span class="line">    mov r8, rax</span><br><span class="line"></span><br><span class="line">    //fork</span><br><span class="line">    mov rax, 57</span><br><span class="line">    syscall</span><br><span class="line"></span><br><span class="line">    cmp rax, 0</span><br><span class="line">    jz child</span><br><span class="line"></span><br><span class="line">    // close</span><br><span class="line">    mov rdi, 4</span><br><span class="line">    mov rax, 3</span><br><span class="line">    syscall</span><br><span class="line">    </span><br><span class="line">    // accept</span><br><span class="line">    mov rdi, 3</span><br><span class="line">    xor rsi, rsi</span><br><span class="line">    xor rdx, rdx</span><br><span class="line">    mov rax, 43</span><br><span class="line">    syscall</span><br><span class="line"></span><br><span class="line">    jmp parent</span><br><span class="line"></span><br><span class="line">child:</span><br><span class="line">    // close</span><br><span class="line">    mov rdi, 3</span><br><span class="line">    mov rax, 3</span><br><span class="line">    syscall</span><br><span class="line"></span><br><span class="line">    // read</span><br><span class="line">    mov rdi, 4</span><br><span class="line">    push rsp</span><br><span class="line">    pop rsi</span><br><span class="line">    mov rdx, 10000</span><br><span class="line">    xor rax, rax</span><br><span class="line">    syscall</span><br><span class="line">    mov r9, rsp</span><br><span class="line">    add r9, 5</span><br><span class="line">    mov r8, rax</span><br><span class="line"></span><br><span class="line">    // open</span><br><span class="line">    sub rsp, 9</span><br><span class="line">    push r9</span><br><span class="line">    mov byte ptr [r9 + 16], 0x00</span><br><span class="line">    pop rdi</span><br><span class="line">    mov rsi, 65</span><br><span class="line">    // 这里是八进制......</span><br><span class="line">    mov rdx, 511</span><br><span class="line">    mov rax, 2</span><br><span class="line">    syscall</span><br><span class="line"></span><br><span class="line">    // write</span><br><span class="line">    mov rdi, rax</span><br><span class="line">    add r9, 178</span><br><span class="line">    mov rsi, r9    </span><br><span class="line">    mov rdx, r8</span><br><span class="line">    sub rdx, 183</span><br><span class="line">    mov rax, 1</span><br><span class="line">    syscall</span><br><span class="line"></span><br><span class="line">    // close</span><br><span class="line">    mov rsi, 3</span><br><span class="line">    mov rax, 3</span><br><span class="line">    syscall</span><br><span class="line"></span><br><span class="line">    // write</span><br><span class="line">    mov rdi, 4</span><br><span class="line">    sub rsp, 24</span><br><span class="line">    mov dword ptr [rsp],     0x50545448</span><br><span class="line">    mov dword ptr [rsp + 4], 0x302e312f</span><br><span class="line">    mov dword ptr [rsp + 8], 0x30303220</span><br><span class="line">    mov dword ptr [rsp + 12], 0x0d4b4f20</span><br><span class="line">    mov qword ptr [rsp + 16], 0x000a0d0a</span><br><span class="line">    push rsp</span><br><span class="line">    pop rsi</span><br><span class="line">    mov rdx, 19</span><br><span class="line">    mov rax, 1</span><br><span class="line">    syscall</span><br><span class="line">    add rsp, 24</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    // exit</span><br><span class="line">    mov rdi, 0</span><br><span class="line">    mov rax, 60</span><br><span class="line">    syscall</span><br></pre></td></tr></table></figure>
<p>最终版 orz，整合了前面几个操作支持 get、post</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br></pre></td><td class="code"><pre><span class="line">.intel_syntax noprefix</span><br><span class="line">.globl _start</span><br><span class="line">.section .text</span><br><span class="line">_start:</span><br><span class="line">    // socket</span><br><span class="line">    mov rdi, 2</span><br><span class="line">    mov rsi, 1</span><br><span class="line">    mov rdx, 0</span><br><span class="line">    mov rax, 41</span><br><span class="line">    syscall</span><br><span class="line">    mov rbx, rax</span><br><span class="line"></span><br><span class="line">    // bind</span><br><span class="line">    sub rsp, 4</span><br><span class="line">    mov word ptr [rsp], 2</span><br><span class="line">    mov word ptr [rsp + 3], 80</span><br><span class="line">    mov dword ptr [rsp + 4], 0x00000000</span><br><span class="line">    push rsp</span><br><span class="line">    pop rsi</span><br><span class="line">    mov rdi, rax</span><br><span class="line">    mov rdx, 16</span><br><span class="line">    mov rax, 49</span><br><span class="line">    syscall</span><br><span class="line"></span><br><span class="line">    // listen</span><br><span class="line">    mov rdi, rbx</span><br><span class="line">    mov rsi, 0</span><br><span class="line">    mov rax, 50</span><br><span class="line">    syscall</span><br><span class="line">parent:</span><br><span class="line">    // accept</span><br><span class="line">    mov rdi, rbx</span><br><span class="line">    xor rsi, rsi</span><br><span class="line">    xor rdx, rdx</span><br><span class="line">    mov rax, 43</span><br><span class="line">    syscall</span><br><span class="line">    mov r13, rax</span><br><span class="line"></span><br><span class="line">    //fork</span><br><span class="line">    mov rax, 57</span><br><span class="line">    syscall</span><br><span class="line"></span><br><span class="line">    cmp rax, 0</span><br><span class="line">    jz child</span><br><span class="line"></span><br><span class="line">    // close</span><br><span class="line">    mov rdi, r13</span><br><span class="line">    mov rax, 3</span><br><span class="line">    syscall</span><br><span class="line">    </span><br><span class="line">    // accept</span><br><span class="line">//    mov rdi, rbx</span><br><span class="line">//    xor rsi, rsi</span><br><span class="line">//    xor rdx, rdx</span><br><span class="line">//    mov rax, 43</span><br><span class="line">//    syscall</span><br><span class="line"></span><br><span class="line">    jmp parent</span><br><span class="line"></span><br><span class="line">child:</span><br><span class="line">    // close</span><br><span class="line">    mov rdi, rbx</span><br><span class="line">    mov rax, 3</span><br><span class="line">    syscall</span><br><span class="line"></span><br><span class="line">    // read</span><br><span class="line">    mov rdi, r13</span><br><span class="line">    push rsp</span><br><span class="line">    pop rsi</span><br><span class="line">    mov rdx, 10000</span><br><span class="line">    xor rax, rax</span><br><span class="line">    syscall</span><br><span class="line">    mov r15, rax</span><br><span class="line">    mov r14, rsp</span><br><span class="line"></span><br><span class="line">    // &#x27;P&#x27;</span><br><span class="line">    cmp byte ptr [r14], 80</span><br><span class="line">    jz post</span><br><span class="line"></span><br><span class="line">get:</span><br><span class="line">    // open</span><br><span class="line">    sub rsp, 9</span><br><span class="line">    add r14, 4</span><br><span class="line">    push r14</span><br><span class="line">    mov byte ptr [r14 + 16], 0x00</span><br><span class="line">    pop rdi</span><br><span class="line">    mov rsi, 0</span><br><span class="line">    mov rdx, 0</span><br><span class="line">    mov rax, 2</span><br><span class="line">    syscall</span><br><span class="line"></span><br><span class="line">    // read</span><br><span class="line">    mov rdi, rax</span><br><span class="line">    mov rsi, rsp</span><br><span class="line">    mov rdx, 10000</span><br><span class="line">    mov rax, 0</span><br><span class="line">    syscall</span><br><span class="line">    mov r12, rax</span><br><span class="line"></span><br><span class="line">    // close</span><br><span class="line">    mov rax, 3</span><br><span class="line">    syscall</span><br><span class="line"></span><br><span class="line">    // write</span><br><span class="line">    mov rdi, r13</span><br><span class="line">    sub rsp, 24</span><br><span class="line">    mov dword ptr [rsp],     0x50545448</span><br><span class="line">    mov dword ptr [rsp + 4], 0x302e312f</span><br><span class="line">    mov dword ptr [rsp + 8], 0x30303220</span><br><span class="line">    mov dword ptr [rsp + 12], 0x0d4b4f20</span><br><span class="line">    mov qword ptr [rsp + 16], 0x000a0d0a</span><br><span class="line">    push rsp</span><br><span class="line">    pop rsi</span><br><span class="line">    mov rdx, 19</span><br><span class="line">    mov rax, 1</span><br><span class="line">    syscall</span><br><span class="line">    add rsp, 24</span><br><span class="line"></span><br><span class="line">    // write</span><br><span class="line">    mov rdi, r13</span><br><span class="line">    mov rsi, rsp</span><br><span class="line">    mov rdx, r12</span><br><span class="line">    mov rax, 1</span><br><span class="line">    syscall</span><br><span class="line"></span><br><span class="line">    mov rdi, 0</span><br><span class="line">    mov rax, 60</span><br><span class="line">    syscall</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">post:</span><br><span class="line">    add r14, 5</span><br><span class="line"></span><br><span class="line">    // open</span><br><span class="line">    sub rsp, 9</span><br><span class="line">    push r14</span><br><span class="line">    mov byte ptr [r14 + 16], 0x00</span><br><span class="line">    pop rdi</span><br><span class="line">    mov rsi, 65</span><br><span class="line">    // 这里是八进制......</span><br><span class="line">    mov rdx, 511</span><br><span class="line">    mov rax, 2</span><br><span class="line">    syscall</span><br><span class="line"></span><br><span class="line">    // write</span><br><span class="line">    mov rdi, rax</span><br><span class="line">    </span><br><span class="line">    mov rdx, r15</span><br><span class="line">    sub rdx, 183</span><br><span class="line">    cmp rdx, 99</span><br><span class="line">    jg addOne</span><br><span class="line"></span><br><span class="line">    add rdx, 1</span><br><span class="line">    sub r14, 1</span><br><span class="line">    </span><br><span class="line">addOne:</span><br><span class="line">    add r14, 178</span><br><span class="line">    mov rsi, r14</span><br><span class="line">    mov rax, 1</span><br><span class="line">    syscall</span><br><span class="line"></span><br><span class="line">    // close</span><br><span class="line">    mov rsi, rbx</span><br><span class="line">    mov rax, 3</span><br><span class="line">    syscall</span><br><span class="line"></span><br><span class="line">    // write</span><br><span class="line">    mov rdi, r13</span><br><span class="line">    sub rsp, 24</span><br><span class="line">    mov dword ptr [rsp],     0x50545448</span><br><span class="line">    mov dword ptr [rsp + 4], 0x302e312f</span><br><span class="line">    mov dword ptr [rsp + 8], 0x30303220</span><br><span class="line">    mov dword ptr [rsp + 12], 0x0d4b4f20</span><br><span class="line">    mov qword ptr [rsp + 16], 0x000a0d0a</span><br><span class="line">    push rsp</span><br><span class="line">    pop rsi</span><br><span class="line">    mov rdx, 19</span><br><span class="line">    mov rax, 1</span><br><span class="line">    syscall</span><br><span class="line">    add rsp, 24</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    // exit</span><br><span class="line">    mov rdi, 0</span><br><span class="line">    mov rax, 60</span><br><span class="line">    syscall</span><br></pre></td></tr></table></figure>
<h3 id="nc-2"><a class="markdownIt-Anchor" href="#nc-2">#</a> nc</h3>
<p>连接</p>
<blockquote>
<p>nc 127.0.0.1 80</p>
</blockquote>
<p>接听</p>
<blockquote>
<p>nc -lp 80</p>
</blockquote>
<p>多线程扫描</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">check_port</span>(<span class="params">hostname, port</span>):</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&#x27;testing:<span class="subst">&#123;hostname&#125;</span>&#x27;</span>)</span><br><span class="line">        sock=socket.socket(socket.AF_INET,socket.SOCK_STREAM)</span><br><span class="line">        sock.settimeout(<span class="number">2</span>)</span><br><span class="line">        result=sock.connect_ex((hostname,port))</span><br><span class="line">        <span class="keyword">if</span> (result == <span class="number">0</span>):</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;hostname&#125;</span>----------&#x27;</span>)</span><br><span class="line">        sock.close()</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">256</span>):</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        t = threading.Thread(target=check_port,args=(<span class="string">f&#x27;10.0.0.<span class="subst">&#123;i&#125;</span>&#x27;</span>,<span class="number">31337</span>))</span><br><span class="line">        t.start()</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Error: unable to start thread&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="number">1</span>:</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>
<p>更好的多线程扫描</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"><span class="keyword">from</span> concurrent.futures <span class="keyword">import</span> ProcessPoolExecutor, as_completed</span><br><span class="line"></span><br><span class="line"><span class="comment"># 配置日志</span></span><br><span class="line">logging.basicConfig(filename=<span class="string">&#x27;port_check.log&#x27;</span>, level=logging.INFO, <span class="built_in">format</span>=<span class="string">&#x27;%(asctime)s - %(message)s&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">check_port</span>(<span class="params">hostname, port</span>):</span><br><span class="line">    <span class="comment"># print(hostname)</span></span><br><span class="line">    <span class="comment"># print(port)</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="comment"># logging.info(f&#x27;testing: &#123;hostname&#125;&#x27;)</span></span><br><span class="line">        sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)</span><br><span class="line">        sock.settimeout(<span class="number">2</span>)</span><br><span class="line">        result = sock.connect_ex((hostname, port))</span><br><span class="line">        <span class="keyword">if</span> result == <span class="number">0</span>:</span><br><span class="line">            logging.info(<span class="string">f&#x27;<span class="subst">&#123;hostname&#125;</span>----------&#x27;</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        sock.close()</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">parallel_process</span>(<span class="params">array, function</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    A parallel version of the map function with a progress bar. </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Args:</span></span><br><span class="line"><span class="string">        array (array-like): An array to iterate over.</span></span><br><span class="line"><span class="string">        function (function): A python function to apply to the elements of array</span></span><br><span class="line"><span class="string">    Returns:</span></span><br><span class="line"><span class="string">        [function(array[0]), function(array[1]), ...]</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    n_jobs = <span class="number">512</span>  <span class="comment"># 线程数</span></span><br><span class="line">    <span class="keyword">with</span> ProcessPoolExecutor(max_workers=n_jobs) <span class="keyword">as</span> pool:</span><br><span class="line">        futures = [pool.submit(function, *a) <span class="keyword">for</span> a <span class="keyword">in</span> array]  <span class="comment"># 使用 *a 解包参数元组</span></span><br><span class="line">        kwargs = &#123;</span><br><span class="line">            <span class="string">&#x27;total&#x27;</span>: <span class="built_in">len</span>(futures),</span><br><span class="line">            <span class="string">&#x27;unit&#x27;</span>: <span class="string">&#x27;it&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;unit_scale&#x27;</span>: <span class="literal">True</span>,</span><br><span class="line">            <span class="string">&#x27;leave&#x27;</span>: <span class="literal">True</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment"># Print out the progress as tasks complete</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    array = [(<span class="string">f&#x27;10.0.<span class="subst">&#123;j&#125;</span>.<span class="subst">&#123;i&#125;</span>&#x27;</span>, <span class="number">31337</span>) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">256</span>) <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">256</span>)]  <span class="comment"># 构造参数数组</span></span><br><span class="line">    <span class="comment"># array = [(f&#x27;192.168.0.&#123;i&#125;&#x27;, 31337) for i in range(256)]</span></span><br><span class="line">    <span class="comment"># print(array)</span></span><br><span class="line">    res = parallel_process(array, check_port)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="tcpdump劫持"><a class="markdownIt-Anchor" href="#tcpdump劫持">#</a> tcpdump 劫持</h3>
<blockquote>
<p>tcpdump -i any port 31337 -w capture.pcap</p>
</blockquote>
<h3 id="hijack"><a class="markdownIt-Anchor" href="#hijack">#</a> hijack</h3>
<p>增加 ip 监听以获取包</p>
<p><a target="_blank" rel="noopener" href="https://ubuntu.com/server/docs/configuring-networks">Configuring networks | Ubuntu</a></p>
<blockquote>
<p>ip addr add 10.0.0.2 dev eth0</p>
</blockquote>
<p>scapy 用法</p>
<p><a target="_blank" rel="noopener" href="https://scapy.readthedocs.io/en/latest/usage.html">Usage — Scapy 2.5.0 documentation</a></p>
<p>一些可用的指令：</p>
<blockquote>
<p>ip route show</p>
<p>ip route add default via 10.0.0.1</p>
</blockquote>
<p>广播 Ethernet 包（srp1 注意增加 filter，这样不会收到自己发的包，或者用 srp 批量都接收）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> scapy.<span class="built_in">all</span> <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="comment"># Get your MAC address (assuming you&#x27;re on a Linux system)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Create the Ethernet frame with your MAC address as the source</span></span><br><span class="line">eth_frame = Ether(src=<span class="string">&quot;e6:d2:90:8f:34:8f&quot;</span>, dst=<span class="string">&quot;ff:ff:ff:ff:ff:ff&quot;</span>, <span class="built_in">type</span>=<span class="number">0xFFFF</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Send the Ethernet frame and receive packets</span></span><br><span class="line">reply_packets = srp1(eth_frame, timeout=<span class="number">2</span>, iface=<span class="string">&quot;eth0&quot;</span>, <span class="built_in">filter</span>=<span class="string">&quot;ether src not e6:d2:90:8f:34:8f&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Display received packets</span></span><br><span class="line"><span class="keyword">if</span> reply_packets:</span><br><span class="line">    <span class="built_in">print</span>(reply_packets.show())</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;No reply received.&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>发送 ip 包（注意，这里是一层一层搭建的，每层的包正常运转下一层的包才能成功发送，！注意！前面的 type 不能指定，这里是自动对 field 适应的，指定后会导致后续上层信息丢包）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> scapy.<span class="built_in">all</span> <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line">eth_frame = Ether(src=<span class="string">&quot;3e:72:ce:70:a9:74&quot;</span>, dst=<span class="string">&quot;ff:ff:ff:ff:ff:ff&quot;</span>)</span><br><span class="line"></span><br><span class="line">ip_packet = IP(proto=<span class="number">0xFF</span>, dst=<span class="string">&quot;10.0.0.3&quot;</span>,src=<span class="string">&quot;10.0.0.2&quot;</span>)</span><br><span class="line">packet = eth_frame/ip_packet</span><br><span class="line"></span><br><span class="line">reply_packets = srp1(packet, timeout=<span class="number">2</span>, iface=<span class="string">&quot;eth0&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> reply_packets:</span><br><span class="line">    <span class="built_in">print</span>(reply_packets.show())</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;No reply received.&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>发送 tcp 包，和上面一样的注意事项就一遍过</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> scapy.<span class="built_in">all</span> <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line">eth_frame = Ether(src=<span class="string">&quot;02:42:0a:00:b5:ef&quot;</span>, dst=<span class="string">&quot;ff:ff:ff:ff:ff:ff&quot;</span>)</span><br><span class="line"></span><br><span class="line">ip_packet = IP(dst=<span class="string">&quot;10.0.0.3&quot;</span>,src=<span class="string">&quot;10.0.181.239&quot;</span>)</span><br><span class="line"></span><br><span class="line">tcp_packet = TCP(sport=<span class="number">31337</span>, dport=<span class="number">31337</span>, seq=<span class="number">31337</span>, ack=<span class="number">31337</span>, flags=<span class="string">&quot;APRSF&quot;</span>)</span><br><span class="line"></span><br><span class="line">packet = eth_frame/ip_packet/tcp_packet</span><br><span class="line"></span><br><span class="line">reply_packets = srp1(packet, timeout=<span class="number">2</span>, iface=<span class="string">&quot;eth0&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> reply_packets:</span><br><span class="line">    <span class="built_in">print</span>(reply_packets.show())</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;No reply received.&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>官网的 demo： <code>a=Ether()/IP(dst=&quot;www.slashdot.org&quot;)/TCP()/&quot;GET /index.html HTTP/1.0 \n\n&quot;</code></p>
<p>TCP handshake：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> scapy.<span class="built_in">all</span> <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line">eth_frame = Ether(src=<span class="string">&quot;8a:c9:61:2b:94:3c&quot;</span>, dst=<span class="string">&quot;ff:ff:ff:ff:ff:ff&quot;</span>)</span><br><span class="line"></span><br><span class="line">ip_packet = IP(dst=<span class="string">&quot;10.0.0.3&quot;</span>,src=<span class="string">&quot;10.0.0.2&quot;</span>)</span><br><span class="line"></span><br><span class="line">tcp_packet = TCP(sport=<span class="number">31337</span>, dport=<span class="number">31337</span>, seq=<span class="number">31337</span>, flags=<span class="string">&quot;S&quot;</span>)</span><br><span class="line"></span><br><span class="line">packet = eth_frame/ip_packet/tcp_packet</span><br><span class="line"></span><br><span class="line">reply_packets = srp1(packet, timeout=<span class="number">2</span>, iface=<span class="string">&quot;eth0&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> reply_packets:</span><br><span class="line">    <span class="built_in">print</span>(reply_packets.show())</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;No reply received.&quot;</span>)</span><br><span class="line"></span><br><span class="line">eth_frame = Ether(src=<span class="string">&quot;8a:c9:61:2b:94:3c&quot;</span>, dst=<span class="string">&quot;ff:ff:ff:ff:ff:ff&quot;</span>)</span><br><span class="line"></span><br><span class="line">ip_packet = IP(dst=<span class="string">&quot;10.0.0.3&quot;</span>,src=<span class="string">&quot;10.0.0.2&quot;</span>)</span><br><span class="line"></span><br><span class="line">tcp_packet = TCP(sport=<span class="number">31337</span>, dport=<span class="number">31337</span>, seq=<span class="number">31338</span>, ack = reply_packets.seq + <span class="number">1</span>, flags=<span class="string">&quot;A&quot;</span>)</span><br><span class="line"></span><br><span class="line">packet = eth_frame/ip_packet/tcp_packet</span><br><span class="line"></span><br><span class="line">reply_packets = srp1(packet, timeout=<span class="number">3</span>, iface=<span class="string">&quot;eth0&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> reply_packets:</span><br><span class="line">    <span class="built_in">print</span>(reply_packets[<span class="number">0</span>].show())</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;No reply received.&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>ARP（注意 ARP 中的 hwsrc 需要再设置一次 mac，否则接收不到回包）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> scapy.<span class="built_in">all</span> <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line">eth_frame = Ether(src=<span class="string">&quot;3a:a0:e5:64:0f:e3&quot;</span>, dst=<span class="string">&quot;ff:ff:ff:ff:ff:ff&quot;</span>)</span><br><span class="line"></span><br><span class="line">arp_packet = ARP(hwsrc=<span class="string">&quot;3a:a0:e5:64:0f:e3&quot;</span>,op=<span class="string">&#x27;is-at&#x27;</span>,psrc=<span class="string">&quot;10.0.0.2&quot;</span>,pdst=<span class="string">&quot;10.0.0.3&quot;</span>,hwdst=<span class="string">&quot;ff:ff:ff:ff:ff:ff&quot;</span>)</span><br><span class="line"></span><br><span class="line">packet = eth_frame/arp_packet</span><br><span class="line"></span><br><span class="line">reply_packets = srp1(packet, timeout=<span class="number">3</span>, iface=<span class="string">&quot;eth0&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> reply_packets:</span><br><span class="line">    <span class="built_in">print</span>(reply_packets.show())</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;No reply received.&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># print(arp_mitm(&quot;10.0.0.3&quot;,&quot;10.0.0.2&quot;))</span></span><br></pre></td></tr></table></figure>
<p>ARP 欺骗（直接伪造 ip 即可）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sendp(Ether(src=get_if_hwaddr(<span class="string">&quot;eth0&quot;</span>), dst=<span class="string">&quot;ff:ff:ff:ff:ff:ff&quot;</span>) / ARP(op=<span class="string">&quot;is-at&quot;</span>, psrc=<span class="string">&quot;10.0.0.2&quot;</span>, hwsrc=get_if_hwaddr(<span class="string">&quot;eth0&quot;</span>)), iface=<span class="string">&quot;eth0&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>差一个题，稍微复杂，大概知道怎么做但是晚点做吧…</p>
</div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i></span><span class="text">Edited on</span><time title="Modified: 2024-04-25 19:44:45" itemprop="dateModified" datetime="2024-04-25T19:44:45+08:00">2024-04-25</time></span></div><div class="reward"><button><i class="ic i-heartbeat"></i>Donate</button><p>Give me a cup of [coffee]~(￣▽￣)~*</p><div id="qr"><div><img loading="lazy" data-src="/assets/wechatpay.png" alt="Moyao WeChat Pay"/><p>WeChat Pay</p></div><div><img loading="lazy" data-src="/assets/alipay.png" alt="Moyao Alipay"/><p>Alipay</p></div></div></div><div id="copyright"><ul><li class="author"><strong>Post author: </strong>Moyao<i class="ic i-at"><em>@</em></i>rev@天枢</li><li class="link"><strong>Post link: </strong><a href="https://demoyao100.github.io/2024/04/14/web%E5%85%A5%E9%97%A8%E6%93%8D%E4%BD%9C/" title="web入门操作">https://demoyao100.github.io/2024/04/14/web入门操作/</a></li><li class="license"><strong>Copyright Notice: </strong>All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</a> unless stating additionally.</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/2024/04/08/vm%E5%88%9D%E6%8E%A2/" rel="prev" itemprop="url" data-background-image="https:&#x2F;&#x2F;tva2.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1giciryrr3rj20zk0m8nhk.jpg" title="vm初探"><span class="type">Previous Post</span><h3>vm初探</h3></a></div><div class="item right"><a href="/2024/04/24/%E9%93%81%E4%B8%89awd%E6%B8%97%E9%80%8F%E5%A4%8D%E7%9B%98/" rel="next" itemprop="url" data-background-image="https:&#x2F;&#x2F;tva2.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1gicis081o9j20zk0m8dmr.jpg" title="铁三awd渗透复盘"><span class="type">Next Post</span><h3>铁三awd渗透复盘</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="Contents"><ol class="toc"><li class="toc-item toc-level-6"><a class="toc-link" href="#preface"><span class="toc-number">1.</span> <span class="toc-text"> PREFACE：</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#curl"><span class="toc-number"></span> <span class="toc-text"> curl</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#nc"><span class="toc-number"></span> <span class="toc-text"> nc</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#python"><span class="toc-number"></span> <span class="toc-text"> python</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#web-syscall"><span class="toc-number"></span> <span class="toc-text"> web syscall</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#nc-2"><span class="toc-number"></span> <span class="toc-text"> nc</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#tcpdump%E5%8A%AB%E6%8C%81"><span class="toc-number"></span> <span class="toc-text"> tcpdump 劫持</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#hijack"><span class="toc-number"></span> <span class="toc-text"> hijack</span></a></div><div class="related panel pjax" data-title="Related"></div><div class="overview panel" data-title="Overview"><div class="author" itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><img class="image" loading="lazy" decoding="async" itemprop="image" alt="Moyao" src="/assets/avatar.jpg"/><p class="name" itemprop="name">Moyao</p><div class="description" itemprop="description">Write down something interesting I met<br />
Feel free to mail me if you have something wanted to talk about, plz
mail: &lt;moyaoxue@outlook.com&gt;
</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">71</span><span class="name">posts</span></a></div><div class="item tags"><a href="/tags/"><span class="count">13</span><span class="name">tags</span></a></div></nav><div class="social"><a target="_blank" rel="noopener" href="https://github.com/name" class="item github" title="https:&#x2F;&#x2F;github.com&#x2F;name"><i class="ic i-github"></i></a></div><div class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>Home</a></li></div></div></div></div><ul id="quick"><li class="prev pjax"><a href="/2024/04/24/%E9%93%81%E4%B8%89awd%E6%B8%97%E9%80%8F%E5%A4%8D%E7%9B%98/" rel="prev" title="Previous Post"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/2024/04/08/vm%E5%88%9D%E6%8E%A2/" rel="next" title="Next Post"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>Random Posts</h2><ul><li class="item"><div class="breadcrumb"></div><span><a href="/2023/11/29/mac%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/">mac环境配置</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2023/11/27/%E3%80%8A%E6%9D%80%E6%AD%BB%E4%B8%80%E5%8F%AA%E7%9F%A5%E6%9B%B4%E9%B8%9F%E3%80%8B/">《杀死一只知更鸟》</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2024/01/31/ubuntu-python-version-manage/">ubuntu python version manage</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2023/11/09/gdb-python%E5%88%9D%E6%8E%A2/">gdb_python初探</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2024/03/28/msf-Android%E9%A9%AC%E5%88%86%E6%9E%90/">msf Android马分析</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2023/09/19/%E8%93%9D%E5%B8%BD2023%E5%8D%8A%E5%86%B3/">蓝帽2023半决</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2024/04/08/vm%E5%88%9D%E6%8E%A2/">vm初探</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2024/02/26/pwnCollege/">pwnCollege</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2023/11/27/Ghidra%E5%88%9D%E6%8E%A2/">Ghidra初探</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2023/11/12/idaTracing/">idaTracing</a></span></li></ul></div><div class="rpost pjax"><h2>Recent Comments</h2></div></div><div class="status"><div class="copyright">&copy; 2022 -<span itemprop="copyrightYear">2024</span><span class="with-love"><i class="ic i-sakura rotate"></i></span><span class="author" itemprop="copyrightHolder">Moyao @ Moyao の小屋</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i></span><span title="Symbols count total">625k words</span><span class="post-meta-divider"> | </span><span class="post-meta-item-icon"><i class="ic i-coffee"></i></span><span title="Reading time total">9:28</span></div><div class="powered-by">Powered by <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a> & Theme.<a target="_blank" rel="noopener" href="https://github.com/theme-shoka-x/hexo-theme-shokaX/">ShokaX</a></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL = {
    ispost: true,
        path: `2024/04/14/web入门操作/`,
        favicon: {
        show: `(●´3｀●) Here we go again.`,
        hide: `(´Д｀) It's a disaster!`
    },
    search: {
        placeholder: "Search for Posts",
        empty: "We didn't find any results for the search: ${query}",
        stats: "${hits} results found in ${time} ms"
    },
    copy_tex: false,
    katex: false,
    mermaid: false,
    audio: undefined,
    fancybox: true,
    nocopy: false,
    outime: true,
    template: `<div class="note warning"><p><span class="label warning">Article Timeliness Alert</span><br>This is an article published {{publish}} days ago and last updated {{updated}} days ago. Some information may have changed, so please be careful to screen it.</p></div>`,
    quiz: {
        choice: `Multiple Choice`,
        multiple: `Multiple Answer`,
        true_false: `True/False`,
        essay: `Questions`,
        gap_fill: `Gap Filling`,
        mistake: `Wrong Answer`
    },
    ignores: [
        (uri) => uri.includes('#'),
        (uri) => new RegExp(LOCAL.path + '$').test(uri),
            []
    ]
};
</script><script src="https://lf9-cdn-tos.bytecdntp.com/cdn/expire-6-M/pace/1.2.4/pace.min.js" async></script><script src="/js/siteInit.js?v=0.4.2" type="module" fetchpriority="high" defer></script></body></html>