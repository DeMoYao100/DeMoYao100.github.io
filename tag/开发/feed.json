{
    "version": "https://jsonfeed.org/version/1",
    "title": "Moyao の小屋 • All posts by \"开发\" tag",
    "description": "Write down something interesting I met<br />\nFeel free to mail me if you have something wanted to talk about, plz\nmail: &lt;moyaoxue@outlook.com&gt;\n",
    "home_page_url": "https://demoyao100.github.io",
    "items": [
        {
            "id": "https://demoyao100.github.io/electron-%E6%89%93%E5%8C%85/",
            "url": "https://demoyao100.github.io/electron-%E6%89%93%E5%8C%85/",
            "title": "electron 打包",
            "date_published": "2023-09-06T00:58:36.000Z",
            "content_html": "<h6 id=\"preface小学期作业新加的需求原来没玩过记录一下\"><a class=\"markdownIt-Anchor\" href=\"#preface小学期作业新加的需求原来没玩过记录一下\">#</a> preface：小学期作业新加的需求，原来没玩过，记录一下</h6>\n<span id=\"more\"></span>\n<p>[参考知乎](<a href=\"https://zhuanlan.zhihu.com/p/430760821\">使用 Electron 给 Python 程序加上 GUI - 知乎 (zhihu.com)</a>)</p>\n<h5 id=\"1打包python文件\"><a class=\"markdownIt-Anchor\" href=\"#1打包python文件\">#</a> 1. 打包 python 文件</h5>\n<h5 id=\"2修改js中调用python的代码\"><a class=\"markdownIt-Anchor\" href=\"#2修改js中调用python的代码\">#</a> 2. 修改 js 中调用 python 的代码</h5>\n<h5 id=\"3构建文件并打包electron\"><a class=\"markdownIt-Anchor\" href=\"#3构建文件并打包electron\">#</a> 3. 构建文件并打包 electron</h5>\n<hr>\n<h5 id=\"1打包python文件-2\"><a class=\"markdownIt-Anchor\" href=\"#1打包python文件-2\">#</a> 1. 打包 python 文件</h5>\n<ul>\n<li>nuitka 打包</li>\n</ul>\n<p><code>pip install nuitka</code></p>\n<p><code>python -m nuitka frontend.py --follow-imports</code>  (–follow-imports 会附带打包依赖)</p>\n<ul>\n<li>pyinstaller</li>\n</ul>\n<p><code>pyinstaller -F C:\\Users\\18238\\Downloads\\packTest\\byrFileShare-frontend\\client\\frontend.py</code></p>\n<h5 id=\"2修改js中调用python的代码-2\"><a class=\"markdownIt-Anchor\" href=\"#2修改js中调用python的代码-2\">#</a> 2. 修改 js 中调用 python 的代码</h5>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"><span>s</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">const</span> <span class=\"token punctuation\">&#123;</span> spawn <span class=\"token punctuation\">&#125;</span> <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'child_process'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">const</span> python <span class=\"token operator\">=</span> <span class=\"token function\">spawn</span><span class=\"token punctuation\">(</span><span class=\"token string\">'python'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'\\frontend.exe'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p><img src=\"/electron-%E6%89%93%E5%8C%85/image-20230906102010240.png\" alt=\"image-20230906102010240\"></p>\n<h5 id=\"3构建文件并打包electron-2\"><a class=\"markdownIt-Anchor\" href=\"#3构建文件并打包electron-2\">#</a> 3. 构建文件并打包 electron</h5>\n<p><code>npm install electron --save-dev</code></p>\n<p><code>npm init</code></p>\n<figure class=\"highlight json\"><figcaption data-lang=\"JSON\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre># package.json</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"your-app\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token property\">\"version\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"1.0.0\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token property\">\"main\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"C:/Users/18238/Downloads/packTest/byrFileShare-frontend/frontend/main.js\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  <span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token property\">\"start\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"electron .\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token property\">\"package\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"electron-packager ./ test --platform=win32 --arch=x64\"</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  <span class=\"token property\">\"dependencies\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token property\">\"electron-packager\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^17.1.2\"</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>  <span class=\"token property\">\"devDependencies\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token property\">\"electron\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^latest-version\"</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p><code>npm run package</code></p>\n",
            "tags": [
                "开发",
                "electron"
            ]
        },
        {
            "id": "https://demoyao100.github.io/arknights-recruit-calculator/",
            "url": "https://demoyao100.github.io/arknights-recruit-calculator/",
            "title": "arknights recruit calculator(1)",
            "date_published": "2022-08-27T03:31:06.000Z",
            "content_html": "<h1 id=\"arknights-recruit-calculator\"><a class=\"markdownIt-Anchor\" href=\"#arknights-recruit-calculator\">#</a> arknights recruit calculator</h1>\n<h5 id=\"published-20220827\"><a class=\"markdownIt-Anchor\" href=\"#published-20220827\">#</a> Published: 2022/08/27</h5>\n<h5 id=\"updated-20220827\"><a class=\"markdownIt-Anchor\" href=\"#updated-20220827\">#</a> Updated: 2022/08/27</h5>\n<h3 id=\"preface\"><a class=\"markdownIt-Anchor\" href=\"#preface\">#</a> PREFACE</h3>\n<ul>\n<li>I’m pretty addicted to this game named Arknights these days, and there is this module named “公招”(“recruit” in English or whatever). So there is this calculator tools use to help you recruit what you want on website. One day it the website/procedure were been maintained. And I been studying php for couples of days. That’s when I decided to build my own recruit calculator.</li>\n<li>It’s still in testing phase, when it’s complete, I may put it on a website.</li>\n<li>The php function mention below can be consulted on <a href=\"https://www.php.net/\">php.net</a></li>\n</ul>\n<span id=\"more\"></span>\n<hr>\n<p>I use html, css to create the User Interface. User can input their tags(5 at most in one post), and program will output the cadres that fits(It will print all combination of the tags that are input).</p>\n<p>The UI designed was easy(not to pursue a perfect, that is), just use a POST method and let the php program receive it. The backend devided the STRING into array, and search in the mysql.</p>\n<p>There is this problem that HOW TO ESTABLISH THE SQL? There isn’t a sql you can find so easily that is ready made. The closest thing I found was a python dictionary. I wasn’t going to wrote the program in python. So I need to transform it into a PHP ARRAY. At first, I tried to use C to read the py dictionary. Obviously it’s too complicate and I should have better choose– <code>json.dumps()</code> ,a function in python that can transform a dictionary into a json file. Like this:</p>\n<blockquote>\n<p><code>a=json.dumps(list)</code> <br>\nHowever, it outputted errors. There I knew json.dumps cann’t dail with Chinese. So I searched for solutions and code down whese:</p>\n</blockquote>\n<blockquote>\n<p><code>import json</code> <br>\n <code>import numpy as np</code> <br>\n <code>class Encoder(json.JSONEncoder):</code> <br>\n <code>    def default(self, obj):</code> <br>\n <code>        if isinstance(obj, np.ndarray):</code> <br>\n <code>            return obj.tolist()</code> <br>\n <code>        elif isinstance(obj, bytes):</code> <br>\n <code>            return str(obj, encoding='utf-8')</code> <br>\n <code>        return json.JSONEncoder.default(self, obj)</code> <br>\n <code>a=json.dumps(top_operators_list,cls=Encoder)</code> <br>\n <code>with open('tags.txt','a') as file0:</code> <br>\n <code>    print(a,file=file0)</code> <br>\nIt actually still output error. After few hours, I found the dictionary’s array used “{}” instead of “[]”. Correct all of that, it works and I got a json file containing the data I need.</p>\n</blockquote>\n<p>Now, I need to put the data in json file into a php array. Luckly, there is this function  <code>json_decode</code>  that can do the trick. So now the array was prepared.</p>\n<p>To search the cadres, you can combine the array into a string in full permutation.(USING DFS) (TIPS:sort your string each time you search will make the work much easier.)</p>\n<p>Designed the output UI, and it’s all done!</p>\n",
            "tags": [
                "开发"
            ]
        }
    ]
}