<?xml version="1.0"?>
<rss version="2.0">
    <channel>
        <title>Moyao の小屋 • Posts by &#34;php&#34; tag</title>
        <link>https://demoyao100.github.io</link>
        <description>Write down something interesting I met
feel free to mail me if you have something wanted to talk about
mail: &amp;lt;moyaoxue@outlook.com&amp;gt;
</description>
        <language>en</language>
        <pubDate>Sat, 27 Aug 2022 11:31:06 +0800</pubDate>
        <lastBuildDate>Sat, 27 Aug 2022 11:31:06 +0800</lastBuildDate>
        <category>re</category>
        <category>ctf</category>
        <category>reverse</category>
        <category>tools</category>
        <category>php</category>
        <category>codeforces</category>
        <category>c++</category>
        <category>cv</category>
        <category>android</category>
        <category>jail</category>
        <category>hexo</category>
        <category>node.js</category>
        <category>re python</category>
        <item>
            <guid isPermalink="true">https://demoyao100.github.io/2022/08/27/arknights-recruit-calculator/</guid>
            <title>arknights recruit calculator(1)</title>
            <link>https://demoyao100.github.io/2022/08/27/arknights-recruit-calculator/</link>
            <category>tools</category>
            <category>php</category>
            <pubDate>Sat, 27 Aug 2022 11:31:06 +0800</pubDate>
            <description><![CDATA[ &lt;h1 id=&#34;arknights-recruit-calculator1&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#arknights-recruit-calculator1&#34;&gt;#&lt;/a&gt; arknights recruit calculator(1)&lt;/h1&gt;
&lt;h5 id=&#34;published-20220827&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#published-20220827&#34;&gt;#&lt;/a&gt; Published: 2022/08/27&lt;/h5&gt;
&lt;h5 id=&#34;updated-20220827&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#updated-20220827&#34;&gt;#&lt;/a&gt; Updated: 2022/08/27&lt;/h5&gt;
&lt;h3 id=&#34;preface&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#preface&#34;&gt;#&lt;/a&gt; PREFACE&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;I’m pretty addicted to this game named Arknights these days, and there is this module named “公招”(“recruit” in English or whatever). So there is this calculator tools use to help you recruit what you want on website. One day it the website/procedure were been maintained. And I been studying php for couples of days. That’s when I decided to build my own recruit calculator.&lt;/li&gt;
&lt;li&gt;It’s still in testing phase, when it’s complete, I may put it on a website.&lt;/li&gt;
&lt;li&gt;The php function mention below can be consulted on &lt;a href=&#34;https://www.php.net/&#34;&gt;php.net&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;span id=&#34;more&#34;&gt;&lt;/span&gt;
&lt;hr&gt;
&lt;p&gt;I use html, css to create the User Interface. User can input their tags(5 at most in one post), and program will output the cadres that fits(It will print all combination of the tags that are input).&lt;/p&gt;
&lt;p&gt;The UI designed was easy(not to pursue a perfect, that is), just use a POST method and let the php program receive it. The backend devided the STRING into array, and search in the mysql.&lt;/p&gt;
&lt;p&gt;There is this problem that HOW TO ESTABLISH THE SQL? There isn’t a sql you can find so easily that is ready made. The closest thing I found was a python dictionary. I wasn’t going to wrote the program in python. So I need to transform it into a PHP ARRAY. At first, I tried to use C to read the py dictionary. Obviously it’s too complicate and I should have better choose– &lt;code&gt;json.dumps()&lt;/code&gt; ,a function in python that can transform a dictionary into a json file. Like this:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;a=json.dumps(list)&lt;/code&gt; &lt;br&gt;
However, it outputted errors. There I knew json.dumps cann’t dail with Chinese. So I searched for solutions and code down whese:&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;import json&lt;/code&gt; &lt;br&gt;
 &lt;code&gt;import numpy as np&lt;/code&gt; &lt;br&gt;
 &lt;code&gt;class Encoder(json.JSONEncoder):&lt;/code&gt; &lt;br&gt;
 &lt;code&gt;    def default(self, obj):&lt;/code&gt; &lt;br&gt;
 &lt;code&gt;        if isinstance(obj, np.ndarray):&lt;/code&gt; &lt;br&gt;
 &lt;code&gt;            return obj.tolist()&lt;/code&gt; &lt;br&gt;
 &lt;code&gt;        elif isinstance(obj, bytes):&lt;/code&gt; &lt;br&gt;
 &lt;code&gt;            return str(obj, encoding=&#39;utf-8&#39;)&lt;/code&gt; &lt;br&gt;
 &lt;code&gt;        return json.JSONEncoder.default(self, obj)&lt;/code&gt; &lt;br&gt;
 &lt;code&gt;a=json.dumps(top_operators_list,cls=Encoder)&lt;/code&gt; &lt;br&gt;
 &lt;code&gt;with open(&#39;tags.txt&#39;,&#39;a&#39;) as file0:&lt;/code&gt; &lt;br&gt;
 &lt;code&gt;    print(a,file=file0)&lt;/code&gt; &lt;br&gt;
It actually still output error. After few hours, I found the dictionary’s array used “{}” instead of “[]”. Correct all of that, it works and I got a json file containing the data I need.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Now, I need to put the data in json file into a php array. Luckly, there is this function  &lt;code&gt;json_decode&lt;/code&gt;  that can do the trick. So now the array was prepared.&lt;/p&gt;
&lt;p&gt;To search the cadres, you can combine the array into a string in full permutation.(USING DFS) (TIPS:sort your string each time you search will make the work much easier.)&lt;/p&gt;
&lt;p&gt;Designed the output UI, and it’s all done!&lt;/p&gt;
 ]]></description>
        </item>
    </channel>
</rss>
